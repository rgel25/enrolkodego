<%- layout('layout/boilerplate') %>
<h1 class="mt-10">All Students</h1>
<table class="table">
  <thead>
    <tr>
      <th scope="col">Student ID</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Email</th>
      <th scope="col">Course</th>
      <th scope="col">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% students.forEach(student =>{%>
    <tr>
      <td scope="row"><%=student.id%></td>
      <td><%=student.first_name%></td>
      <td><%=student.last_name%></td>
      <td><%=student.email%></td>
      <td><%=student.course_name%></td>
      <td>
        <a href="/students/<%= student.id%>/edit" class="btn btn-success"
          >Edit</a
        >

        <button
          type="button"
          class="btn btn-danger"
          data-bs-toggle="modal"
          data-bs-target="#exampleModal"
        >
          Delete
        </button>
        <!-- modal -->
        <div
          class="modal fade"
          id="exampleModal"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">
                  Confirm Delete
                </h5>
                <button
                  type="button"
                  class="btn-close"
                  data-bs-dismiss="modal"
                  aria-label="Close"
                ></button>
              </div>
              <div class="modal-body">
                Are you sure you want to delete this student?
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Close
                </button>
                <form
                  class="d-inline"
                  action="/students/<%=student.id%>/delete?_method=DELETE"
                  method="POST"
                >
                  <button type="submit" class="btn btn-danger">Delete</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
    <%})%>
  </tbody>
</table>
